<!doctype html>
<html lang="en">

    <head>
        <title>Chef Imagebuilder</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="bootstrap.min.css">
        <link rel="stylesheet" href="octicons.min.css">
    </head>

    <body>
        <div class="container">
            <p>
            <nav class="navbar rounded navbar-dark bg-primary justify-content-between">
                <a class="navbar-brand" href="/">Chef Imagebuilder</a>
                <form class="form-inline">
                    <select class="custom-select" id="lang" name="lang" onchange="translate();">
                        <option value="en">English</option>
                        <option value="ast">Asturianu (Asturian)</option>
                        <option value="ca">Català (Catalan)</option>
                        <option value="de">Deutsch (German)</option>
                        <option value="el">Ελληνικά (Greek)</option>
                        <option value="es">Español (Spanish)</option>
                        <option value="fr">Français (French)</option>
                        <option value="it">Italiano (Italian)</option>
                        <option value="ko">한국어 (Korean)</option>
                        <option value="lb">Lëtzebuergesch (Luxembourgish)</option>
                        <option value="mk">македонски (Macedonian)</option>
                        <option value="pt-br">Português/Brasileiro (Brasilian Portuguese)</option>
                        <option value="pt">Português (Portuguese)</option>
                        <option value="ru">русский (Russian)</option>
                        <option value="sv">Svenska (Swedish)</option>
                        <option value="tr">Türkçe (Turkish)</option>
                        <option value="zh-hans">中文（简体）(Mandarin Simplified)</option>
                        <option value="zh-hant">中文（繁體）(Mandarin Traditional)</option>
                    </select>
                </form>
            </nav>
            </p>
            <style>input[type=text], button, textarea, select { width: 100%; }</style>
            <div id="warning_box" class="alert alert-danger" style="display: none">
                <b>Warning:</b>
                <span id="warning_message"></span>
            </div>
            <div class="card" id="download_box" style="display:none">
                <h4 class="card-header">Firmware
                    <span id="unstable_warning" class="badge badge-danger" style="display:none">unstable</span>
                    <span id="custom_info" class="badge badge-info" style="display:none">custom UCI defaults</span>
                </h4>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            Model: <b><span id="image_title"></span></b></br>
                            Version: <span id="image_version"></span></br>
                            Target: <span id="image_target"></span></br>
                        </div>
                        <div class="col-md-6">
                            <div id="download_div" style="display:none"></div>
                        </div>
                        <div class="col-md-12">
                            <a href="javascript: toggle('#packages_box');">
                                <span id="tr-installed-packages">Installed packages</span>
                                <span id="packages_count"></span>
                            </a></br>
                            <div id="packages_box" style="display: none"></div>
                            <div id="files_box" style="display: none"></div>
                        </div>
                    </div>
                </div>
            </div>
            <p>
            <div style="display: none" id="info_box" class="alert alert-success">
                <img id="info_box_loading" src="loading.gif" alt="Loading" style="vertical-align:middle" />
                <span id="info_box_content"></span>
            </div>
            <div style="display: none" id="error_box" class="alert alert-danger"></div>
            </p>
            <div class="card">
                <h4 class="card-header tr-request-firmware">Request Firmware</h4>
                <div class="card-body">
                    <form name="request_form" id="request_form" action="#" method="get" class="col-md-12">
                        <div class="form-group row">
                            <label for="version" class="col-sm-3 col-form-label tr-model">Device Model:</label>
                            <div class="form-group col-md-3">
                                <input class="form-control" type="text" id="search_device" onkeyup="search_delayed()" placeholder="Search for device...">
                            </div>
                            <div class="form-group col-md-6">
                                <select class="custom-select" id="profile" name="profile" onchange="profile_changed();">
                                    <option value="" class="tr-start-typing" selected>Start typing</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group row">
                            <div class="form-group col-md-6">
                                <button onclick="toggle('#edit_packages');" type="button" id="btn_edit_packages" class="btn btn-primary tr-edit-packages" disabled>Edit packages</button>
                                <div id="edit_packages_div">
                                    <textarea id="edit_packages" name="edit_packages" rows=15 style="display: none"></textarea>
                                </div>
                            </div>
                            <div class="form-group col-md-6">
                                <button onclick="toggle('#edit_defaults');" type="button" name="btn_edit_packages" class="btn btn-primary tr-edit-defaults">Edit UCI defaults (alpha)</button>
                                <div id="edit_defaults_div">
                                    <textarea id="edit_defaults" name="edit_defaults" rows=15 style="display: none"></textarea>
                                </div>
                            </div>
                        </div>
                        <div class="form-group row">
                            <div class="form-group col-md-3">
                                <button onclick="create()" type="button" name="btn_create" id="btn_create" class="btn btn-success tr-create-image" disabled>Create Image</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <div id="banner" class="row justify-content-around"></div>
            <div class="row justify-content-md-center">
                <div class="col-12 col-md-auto">
                    <a href="https://github.com/aparcar/attendedsysupgrade-server/issues" target="_blank" class="tr-problem"><b>Problem?</b></a>
                    |
                    <span id="images_total"></span> <span class="tr-images-created">images created</span>
                </div>
            </div>
            <script src="settings.js"></script>
            <script src="chef.js"></script>
            <div class="col-md-4"></div>
        </div>
    </body>

</html>
